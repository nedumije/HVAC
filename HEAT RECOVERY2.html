<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinch Analysis - Principles of Curve Interpretation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
    <style>
        :root {
            --primary: #1a3a5f;
            --secondary: #2c5c7f;
            --accent: #e63946;
            --light: #f1faee;
            --dark: #1d3557;
            --success: #2a9d8f;
            --warning: #f4a261;
            --info: #3a86ff;
            --chemical-blue: #457b9d;
            --chemical-light: #a8dadc;
            --chemical-dark: #1d3557;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, var(--chemical-light) 0%, #f1faee 300px);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        header {
            background: linear-gradient(135deg, var(--chemical-dark) 0%, var(--chemical-blue) 100%);
            color: white;
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);
            border-bottom: 2px solid var(--accent);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--accent);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 2rem;
            position: relative;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            position: relative;
        }
        
        .nav-links a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: var(--accent);
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover:after {
            width: 80%;
            left: 10%;
        }
        
        .hero {
            background: linear-gradient(rgba(29, 53, 87, 0.85), rgba(29, 53, 87, 0.9)), 
                        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%231D3557"/><circle cx="20" cy="20" r="5" fill="%23457B9D"/><circle cx="50" cy="50" r="8" fill="%23457B9D"/><circle cx="80" cy="80" r="5" fill="%23457B9D"/><path d="M0 50 L100 50" stroke="%23A8DADC" stroke-width="0.5" stroke-dasharray="5,5"/><path d="M50 0 L50 100" stroke="%23A8DADC" stroke-width="0.5" stroke-dasharray="5,5"/></svg>');
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            border-bottom: 3px solid var(--accent);
        }
        
        .hero-content {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 2.5rem;
            line-height: 1.8;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(to right, var(--accent) 0%, #ff6b6b 100%);
            color: white;
            padding: 0.9rem 1.8rem;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .btn:hover:before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2.5rem 2rem;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3.5rem;
            color: var(--chemical-dark);
            position: relative;
            padding-bottom: 15px;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, var(--chemical-blue), var(--accent));
            margin: 15px auto 0;
            border-radius: 2px;
        }
        
        .card {
            background: linear-gradient(to bottom, #ffffff, #f8f9fa);
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            padding: 2.2rem;
            margin-bottom: 2.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
            border-left: 4px solid var(--chemical-blue);
        }
        
        .card:hover {
            transform: translateY(-7px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }
        
        .card-title {
            color: var(--chemical-dark);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            font-size: 1.4rem;
        }
        
        .card-title i {
            margin-right: 12px;
            color: var(--accent);
            font-size: 1.6rem;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.2rem;
            margin-bottom: 3.5rem;
        }
        
        .graph-container {
            background: linear-gradient(to bottom, #ffffff, #f8f9fa);
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            padding: 1.8rem;
            margin-bottom: 2.5rem;
            position: relative;
            border: 1px solid #e9ecef;
        }
        
        .graph-title {
            color: var(--chemical-dark);
            margin-bottom: 1.2rem;
            text-align: center;
            font-size: 1.3rem;
            padding-bottom: 10px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .graph-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
            justify-content: center;
        }
        
        .graph-btn {
            background: linear-gradient(to bottom, var(--chemical-light), var(--chemical-blue));
            color: var(--chemical-dark);
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .graph-btn:hover {
            background: linear-gradient(to bottom, var(--chemical-blue), var(--chemical-dark));
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .canvas-container {
            position: relative;
            height: 350px;
            margin: 0 auto;
            width: 100%;
        }
        
        .term-highlight {
            color: var(--chemical-blue);
            font-weight: 600;
            cursor: help;
            border-bottom: 2px dotted var(--chemical-blue);
            position: relative;
            transition: all 0.3s;
        }
        
        .term-highlight:hover {
            color: var(--accent);
            border-bottom: 2px dotted var(--accent);
        }
        
        .term-tooltip {
            visibility: hidden;
            width: 220px;
            background-color: var(--chemical-dark);
            color: white;
            text-align: center;
            border-radius: 8px;
            padding: 12px;
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            margin-left: -110px;
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: normal;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .term-highlight:hover .term-tooltip {
            visibility: visible;
            opacity: 1;
        }
        
        footer {
            background: linear-gradient(135deg, var(--chemical-dark) 0%, var(--chemical-blue) 100%);
            color: white;
            padding: 3.5rem 2rem 1.5rem;
            margin-top: 4rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-section h3 {
            color: var(--chemical-light);
            margin-bottom: 1.2rem;
            font-size: 1.3rem;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-section h3:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 2px;
            background-color: var(--accent);
        }
        
        .footer-section p, .footer-section li {
            margin-bottom: 0.8rem;
            line-height: 1.6;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
            display: inline-block;
            position: relative;
        }
        
        .footer-section a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -2px;
            left: 0;
            background-color: var(--accent);
            transition: width 0.3s;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .footer-section a:hover:after {
            width: 100%;
        }
        
        .footer-bottom {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: #a8dadc;
        }
        
        @media (max-width: 900px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
        }
        
        .chemical-badge {
            display: inline-block;
            background: var(--chemical-light);
            color: var(--chemical-dark);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 0.8rem;
            margin-bottom: 0.8rem;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.2rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 0.5rem;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-industry"></i>
                <span>Pinch Analysis</span>
            </div>
            <ul class="nav-links">
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#principles">Principles</a></li>
                <li><a href="#curves">Curves</a></li>
                <li><a href="#applications">Applications</a></li>
                <li><a href="#resources">Resources</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>Principles of Interpreting Curves in Pinch Analysis</h1>
            <p>Master the art of interpreting composite curves, grand composite curves, and more through interactive visualizations and detailed explanations designed for chemical engineers.</p>
            <a href="#curves" class="btn">Explore Interactive Graphs <i class="fas fa-arrow-down"></i></a>
        </div>
    </section>

    <div class="container">
        <section id="introduction">
            <h2 class="section-title">Introduction to Pinch Analysis</h2>
            <div class="card">
                <h3 class="card-title"><i class="fas fa-info-circle"></i> What is Pinch Analysis?</h3>
                <p>Pinch analysis is a systematic methodology for minimizing energy consumption in industrial processes by optimizing heat recovery, energy supply, and process operations. It involves the use of specialized graphs and curves to identify energy-saving opportunities.</p>
                <p>The term <span class="term-highlight">"pinch"<span class="term-tooltip">The pinch point represents the most constrained region in the heat exchanger network where the temperature difference is minimal</span></span> refers to the point in the process where the heat recovery is most constrained, representing the minimum temperature difference between hot and cold streams.</p>
                
                <div class="chemical-badge">Heat Integration</div>
                <div class="chemical-badge">Energy Optimization</div>
                <div class="chemical-badge">Process Engineering</div>
            </div>
            
            <div class="card">
                <h3 class="card-title"><i class="fas fa-history"></i> Historical Background</h3>
                <p>Pinch analysis was developed in the late 1970s by PhD student Bodo Linnhoff under the supervision of Professor John Flower at the University of Leeds. The technique has since become a cornerstone of process integration and energy optimization in chemical and process industries.</p>
                <p>Today, pinch analysis is applied across various industries including <span class="term-highlight">petrochemical<span class="term-tooltip">Refineries and petrochemical plants use pinch analysis to optimize complex heat exchanger networks</span></span>, <span class="term-highlight">pharmaceutical<span class="term-tooltip">Pharmaceutical manufacturers apply pinch analysis to reduce energy costs in batch processes</span></span>, and <span class="term-highlight">food processing<span class="term-tooltip">Food industry uses pinch analysis to optimize pasteurization and sterilization processes</span></span> facilities.</p>
            </div>
        </section>

        <section id="principles">
            <h2 class="section-title">Key Principles</h2>
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-thermometer-half"></i> Temperature-Enthalpy Diagrams</h3>
                    <p>The foundation of pinch analysis is the temperature-enthalpy (T-H) diagram, which graphically represents the heat availability and requirements of process streams.</p>
                    <p>These diagrams help engineers visualize the <span class="term-highlight">heat surplus<span class="term-tooltip">The portion of the graph where hot streams provide more heat than cold streams require</span></span> and <span class="term-highlight">heat deficit<span class="term-tooltip">The portion of the graph where cold streams require more heat than hot streams provide</span></span> regions in a process.</p>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-exchange-alt"></i> Heat Recovery</h3>
                    <p>The maximum amount of heat that can be recovered between hot and cold process streams is determined by the point of closest approach between composite curves.</p>
                    <p>Effective heat recovery reduces the need for <span class="term-highlight">external utilities<span class="term-tooltip">Additional heating or cooling sources beyond process streams</span></span> and minimizes operating costs.</p>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-bolt"></i> Energy Targets</h3>
                    <p>Pinch analysis establishes minimum energy consumption targets before designing the heat exchanger network, providing a benchmark for energy efficiency.</p>
                    <p>These targets help identify the <span class="term-highlight">energy optimization potential<span class="term-tooltip">The gap between current energy usage and theoretically achievable minimum</span></span> of a process.</p>
                </div>
            </div>
        </section>

        <section id="curves">
            <h2 class="section-title">Types of Curves in Pinch Analysis</h2>
            
            <div class="graph-container">
                <h3 class="graph-title">Composite Curves</h3>
                <p>Composite curves show the overall heat availability (hot composite curve) and heat requirements (cold composite curve) of all process streams. The point where these curves are closest is called the pinch point.</p>
                
                <div class="graph-controls">
                    <button class="graph-btn" onclick="updateCompositeCurve('typical')"><i class="fas fa-chart-line"></i> Typical View</button>
                    <button class="graph-btn" onclick="updateCompositeCurve('shifted')"><i class="fas fa-sliders-h"></i> Temperature Shifted</button>
                    <button class="graph-btn" onclick="updateCompositeCurve('animated')"><i class="fas fa-play"></i> Animate Pinch</button>
                    <button class="graph-btn" onclick="resetZoom('compositeCurve')"><i class="fas fa-search-minus"></i> Reset Zoom</button>
                </div>
                
                <div class="canvas-container">
                    <canvas id="compositeCurve"></canvas>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e63946;"></div>
                        <span>Hot Composite Curve</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #3a86ff;"></div>
                        <span>Cold Composite Curve</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2a9d8f;"></div>
                        <span>Pinch Point</span>
                    </div>
                </div>
            </div>
            
            <div class="graph-container">
                <h3 class="graph-title">Grand Composite Curve</h3>
                <p>The grand composite curve (GCC) represents the net heat flow against temperature. It helps in identifying appropriate utility placement and integration.</p>
                
                <div class="graph-controls">
                    <button class="graph-btn" onclick="updateGCC('typical')"><i class="fas fa-chart-area"></i> Typical View</button>
                    <button class="graph-btn" onclick="updateGCC('withUtilities')"><i class="fas fa-fire"></i> With Utilities</button>
                    <button class="graph-btn" onclick="updateGCC('animated')"><i class="fas fa-play"></i> Animate Integration</button>
                    <button class="graph-btn" onclick="resetZoom('grandCompositeCurve')"><i class="fas fa-search-minus"></i> Reset Zoom</button>
                </div>
                
                <div class="canvas-container">
                    <canvas id="grandCompositeCurve"></canvas>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2a9d8f;"></div>
                        <span>Grand Composite Curve</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f4a261;"></div>
                        <span>Utility Placement</span>
                    </div>
                </div>
            </div>
            
            <div class="graph-container">
                <h3 class="graph-title">Stream Grid Diagram</h3>
                <p>The stream grid (or grid diagram) shows the individual process streams and how they are connected through heat exchangers.</p>
                
                <div class="graph-controls">
                    <button class="graph-btn" onclick="updateStreamGrid('basic')"><i class="fas fa-th"></i> Basic Grid</button>
                    <button class="graph-btn" onclick="updateStreamGrid('withExchange')"><i class="fas fa-link"></i> With Heat Exchange</button>
                    <button class="graph-btn" onclick="updateStreamGrid('optimized')"><i class="fas fa-tachometer-alt"></i> Optimized Network</button>
                    <button class="graph-btn" onclick="resetZoom('streamGrid')"><i class="fas fa-search-minus"></i> Reset Zoom</button>
                </div>
                
                <div class="canvas-container">
                    <canvas id="streamGrid"></canvas>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e63946;"></div>
                        <span>Hot Streams</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #3a86ff;"></div>
                        <span>Cold Streams</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2a9d8f;"></div>
                        <span>Heat Exchangers</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="applications">
            <h2 class="section-title">Practical Applications</h2>
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-industry"></i> Industrial Applications</h3>
                    <p>Pinch analysis is widely used in chemical plants, refineries, power plants, and other energy-intensive industries to reduce fuel consumption, optimize utility systems, and minimize operating costs.</p>
                    <p>Modern applications include <span class="term-highlight">carbon emission reduction<span class="term-tooltip">Pinch analysis helps minimize energy consumption, thereby reducing greenhouse gas emissions</span></span> and <span class="term-highlight">waste heat recovery<span class="term-tooltip">Identifying opportunities to capture and reuse waste heat from processes</span></span> systems.</p>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-leaf"></i> Environmental Benefits</h3>
                    <p>By maximizing heat recovery and reducing energy consumption, pinch analysis helps industries lower their greenhouse gas emissions and environmental footprint.</p>
                    <p>Studies show that pinch analysis can typically identify energy savings of <span class="term-highlight">10-35%<span class="term-tooltip">The typical range of energy savings identified through pinch analysis studies</span></span> in industrial processes.</p>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About This Resource</h3>
                <p>This educational webpage provides an interactive introduction to the principles of interpreting curves in pinch analysis, featuring interactive visualizations and detailed explanations.</p>
                <p>Designed for chemical engineering students and professionals.</p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#introduction"><i class="fas fa-arrow-right"></i> Introduction</a></li>
                    <li><a href="#principles"><i class="fas fa-arrow-right"></i> Key Principles</a></li>
                    <li><a href="#curves"><i class="fas fa-arrow-right"></i> Curve Types</a></li>
                    <li><a href="#applications"><i class="fas fa-arrow-right"></i> Applications</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Related Resources</h3>
                <ul>
                    <li><a href="#"><i class="fas fa-book"></i> Advanced Pinch Analysis Techniques</a></li>
                    <li><a href="#"><i class="fas fa-project-diagram"></i> Case Studies in Process Integration</a></li>
                    <li><a href="#"><i class="fas fa-tools"></i> Software Tools for Energy Optimization</a></li>
                    <li><a href="#"><i class="fas fa-graduation-cap"></i> Chemical Engineering Thermodynamics</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2023 Pinch Analysis Educational Resource | For Academic and Educational Use</p>
        </div>
    </footer>

    <script>
        // Initialize Charts
        document.addEventListener('DOMContentLoaded', function() {
            initCompositeCurve();
            initGrandCompositeCurve();
            initStreamGrid();
        });

        // Composite Curve Chart
        function initCompositeCurve() {
            const ctx = document.getElementById('compositeCurve').getContext('2d');
            window.compositeChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200],
                    datasets: [
                        {
                            label: 'Hot Composite Curve',
                            data: [220, 210, 200, 190, 180, 170, 160, 150, 140, 130, 120],
                            borderColor: '#e63946',
                            backgroundColor: 'rgba(230, 57, 70, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 2,
                            pointRadius: 0,
                            pointHoverRadius: 5
                        },
                        {
                            label: 'Cold Composite Curve',
                            data: [80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180],
                            borderColor: '#3a86ff',
                            backgroundColor: 'rgba(58, 134, 255, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 2,
                            pointRadius: 0,
                            pointHoverRadius: 5
                        },
                        {
                            label: 'Pinch Point',
                            data: [null, null, null, null, null, 150, 150, null, null, null, null],
                            borderColor: '#2a9d8f',
                            backgroundColor: 'rgba(42, 157, 143, 0.3)',
                            fill: false,
                            borderWidth: 2,
                            pointStyle: 'dash',
                            borderDash: [5, 5],
                            tension: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Temperature (°C)',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            min: 50,
                            max: 250,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Enthalpy (kW)',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Composite Curves in Pinch Analysis',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                bottom: 20
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(29, 53, 87, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 13
                            },
                            padding: 12,
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y + '°C';
                                }
                            }
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: true,
                                },
                                pinch: {
                                    enabled: true
                                },
                                mode: 'xy',
                            },
                            pan: {
                                enabled: true,
                                mode: 'xy',
                            }
                        },
                        legend: {
                            display: false
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });
        }

        // Grand Composite Curve Chart
        function initGrandCompositeCurve() {
            const ctx = document.getElementById('grandCompositeCurve').getContext('2d');
            window.grandCompositeChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [0, 20, 40, 60, 80, 100, 120, 140, 160],
                    datasets: [
                        {
                            label: 'Grand Composite Curve',
                            data: [50, 30, 10, -5, -15, -10, 5, 20, 40],
                            borderColor: '#2a9d8f',
                            backgroundColor: 'rgba(42, 157, 143, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 2,
                            pointRadius: 0,
                            pointHoverRadius: 5
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Net Heat Flow (kW)',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Temperature (°C)',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Grand Composite Curve',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                bottom: 20
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(29, 53, 87, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 13
                            },
                            padding: 12
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: true,
                                },
                                pinch: {
                                    enabled: true
                                },
                                mode: 'xy',
                            },
                            pan: {
                                enabled: true,
                                mode: 'xy',
                            }
                        },
                        legend: {
                            display: false
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });
        }

        // Stream Grid Diagram
        function initStreamGrid() {
            const ctx = document.getElementById('streamGrid').getContext('2d');
            window.streamGridChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [
                        {
                            label: 'Hot Streams',
                            data: [
                                {x: 50, y: 200},
                                {x: 70, y: 180},
                                {x: 90, y: 160},
                                {x: 110, y: 140},
                                {x: 130, y: 120}
                            ],
                            backgroundColor: '#e63946',
                            pointRadius: 8,
                            pointHoverRadius: 10
                        },
                        {
                            label: 'Cold Streams',
                            data: [
                                {x: 50, y: 80},
                                {x: 70, y: 100},
                                {x: 90, y: 120},
                                {x: 110, y: 140},
                                {x: 130, y: 160}
                            ],
                            backgroundColor: '#3a86ff',
                            pointRadius: 8,
                            pointHoverRadius: 10
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Temperature (°C)',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            min: 50,
                            max: 250,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Stream Population',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            min: 40,
                            max: 140,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Stream Grid Diagram',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: {
                                bottom: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y + '°C';
                                }
                            },
                            backgroundColor: 'rgba(29, 53, 87, 0.9)',
                            titleFont: {
                                size: 14
                            },
                            bodyFont: {
                                size: 13
                            },
                            padding: 12
                        },
                        zoom: {
                            zoom: {
                                wheel: {
                                    enabled: true,
                                },
                                pinch: {
                                    enabled: true
                                },
                                mode: 'xy',
                            },
                            pan: {
                                enabled: true,
                                mode: 'xy',
                            }
                        },
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Update functions for interactive controls
        function updateCompositeCurve(type) {
            if (type === 'shifted') {
                window.compositeChart.data.datasets[0].data = [220, 210, 200, 190, 180, 170, 160, 150, 140, 130, 120];
                window.compositeChart.data.datasets[1].data = [100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200];
                window.compositeChart.data.datasets[2].data = [null, null, null, null, null, 150, 150, null, null, null, null];
            } else if (type === 'animated') {
                // Simple animation by shifting data points
                const originalData = [220, 210, 200, 190, 180, 170, 160, 150, 140, 130, 120];
                const shiftedData = originalData.map(value => value - 20);
                
                window.compositeChart.data.datasets[0].data = shiftedData;
                window.compositeChart.data.datasets[2].data = [null, null, null, null, null, 130, 130, null, null, null, null];
            } else {
                window.compositeChart.data.datasets[0].data = [220, 210, 200, 190, 180, 170, 160, 150, 140, 130, 120];
                window.compositeChart.data.datasets[1].data = [80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180];
                window.compositeChart.data.datasets[2].data = [null, null, null, null, null, 150, 150, null, null, null, null];
            }
            
            window.compositeChart.update();
        }

        function updateGCC(type) {
            if (type === 'withUtilities') {
                if (window.grandCompositeChart.data.datasets.length === 1) {
                    window.grandCompositeChart.data.datasets.push({
                        label: 'Utility Placement',
                        data: [null, null, null, -5, -15, -10, 5, null, null],
                        borderColor: '#f4a261',
                        backgroundColor: 'rgba(244, 162, 97, 0.2)',
                        fill: false,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        borderWidth: 2
                    });
                }
            } else if (type === 'animated') {
                // Simple animation by modifying the dataset
                window.grandCompositeChart.data.datasets[0].data = [50, 30, 10, -5, -15, -10, 5, 20, 40];
                if (window.grandCompositeChart.data.datasets.length > 1) {
                    window.grandCompositeChart.data.datasets[1].data = [null, null, null, -5, -15, -10, 5, null, null];
                }
            } else {
                // Reset to typical view
                if (window.grandCompositeChart.data.datasets.length > 1) {
                    window.grandCompositeChart.data.datasets.pop();
                }
                window.grandCompositeChart.data.datasets[0].data = [50, 30, 10, -5, -15, -10, 5, 20, 40];
            }
            
            window.grandCompositeChart.update();
        }

        function updateStreamGrid(type) {
            if (type === 'withExchange') {
                if (window.streamGridChart.data.datasets.length === 2) {
                    window.streamGridChart.data.datasets.push({
                        label: 'Heat Exchanges',
                        data: [
                            {x: 60, y: 190},
                            {x: 80, y: 170},
                            {x: 100, y: 150},
                            {x: 120, y: 130}
                        ],
                        backgroundColor: '#2a9d8f',
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        showLine: true,
                        lineTension: 0,
                        borderColor: '#2a9d8f',
                        borderWidth: 2
                    });
                }
            } else if (type === 'optimized') {
                // Clear previous data if any
                if (window.streamGridChart.data.datasets.length > 2) {
                    window.streamGridChart.data.datasets = window.streamGridChart.data.datasets.slice(0, 2);
                }
                
                window.streamGridChart.data.datasets.push({
                    label: 'Optimized Network',
                    data: [
                        {x: 55, y: 195},
                        {x: 75, y: 175},
                        {x: 95, y: 155},
                        {x: 115, y: 135},
                        {x: 135, y: 115}
                    ],
                    backgroundColor: '#9b59b6',
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    showLine: true,
                    lineTension: 0,
                    borderColor: '#9b59b6',
                    borderWidth: 2
                });
            } else {
                // Reset to basic view
                window.streamGridChart.data.datasets = window.streamGridChart.data.datasets.slice(0, 2);
            }
            
            window.streamGridChart.update();
        }

        // Reset zoom function
        function resetZoom(chartId) {
            switch(chartId) {
                case 'compositeCurve':
                    window.compositeChart.resetZoom();
                    break;
                case 'grandCompositeCurve':
                    window.grandCompositeChart.resetZoom();
                    break;
                case 'streamGrid':
                    window.streamGridChart.resetZoom();
                    break;
            }
        }
    </script>
</body>
</html>